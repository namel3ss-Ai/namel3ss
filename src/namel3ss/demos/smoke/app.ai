spec is "1.0"

# demo: smoke
# Minimal app to prove UI -> action -> state in the browser.

identity "user":
  field "subject" is text must be present
  field "roles" is json
  field "permissions" is json
  field "trust_level" is text must be present
  trust_level is one of ["guest", "member", "admin"]

record "Click":
  field "message" is text must be present

flow "add_click" requires has_permission("click.create")
  create "Click"
    message is "clicked"

page "home":
  purpose is "Minimal smoke demo that runs in the browser."
  title is "{{PROJECT_NAME}}"
  card "Try it":
    text is "Click the button to create a record."
    button "Add click":
      calls flow "add_click"
  card "Results":
    table is "Click"
    view of "Click"

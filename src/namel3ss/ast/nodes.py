from __future__ import annotations

from dataclasses import dataclass
from typing import List, Optional, Union

from namel3ss.ast.agents import AgentDecl, AgentTeamDecl, AgentTeamMember
from namel3ss.ast.ai import AIDecl, AIMemory, AIFlowMetadata
from namel3ss.ast.ai_flows import AIFlowDefinition, AIFlowTestConfig, AIOutputField, ChainStep
from namel3ss.ast.base import Node
from namel3ss.ast.calls import CallArg, CallFlowExpr, CallPipelineExpr
from namel3ss.ast.contracts import ContractDecl
from namel3ss.ast.expressions import (
    Assignable,
    AttrAccess,
    BinaryOp,
    BuiltinCallExpr,
    Comparison,
    Expression,
    ListExpr,
    ListFilterExpr,
    ListMapExpr,
    ListReduceExpr,
    Literal,
    MapEntry,
    MapExpr,
    ListOpExpr,
    MapOpExpr,
    AsyncCallExpr,
    StatePath,
    ToolCallArg,
    ToolCallExpr,
    UnaryOp,
    VarReference,
)
from namel3ss.ast.flow_steps import (
    FlowCallForeign,
    FlowCreate,
    FlowDelete,
    FlowField,
    FlowInput,
    FlowInputField,
    FlowRequire,
    FlowStep,
    FlowUpdate,
)
from namel3ss.ast.functions import (
    CallFunctionExpr,
    FunctionCallArg,
    FunctionDecl,
    FunctionParam,
    FunctionSignature,
)
from namel3ss.ast.modules import CapsuleDecl, CapsuleExport, PluginUseDecl, UseDecl
from namel3ss.ast.jobs import JobDecl
from namel3ss.ast.includes import IncludeDecl
from namel3ss.ast.pages import (
    ActivePageRule,
    ActionAvailabilityRule,
    ButtonItem,
    CardAction,
    CardGroupItem,
    CardItem,
    CardStat,
    ChartItem,
    CustomComponentItem,
    CustomComponentProp,
    ComposeItem,
    CitationChipsItem,
    ChatCitationsItem,
    ChatComposerField,
    ChatComposerItem,
    ChatItem,
    ChatMemoryItem,
    ChatMessagesItem,
    ChatThinkingItem,
    SliderItem,
    TooltipItem,
    ScopeSelectorItem,
    SourcePreviewItem,
    TrustIndicatorItem,
    ColumnItem,
    DividerItem,
    FormItem,
    FormFieldConfig,
    FormFieldRef,
    FormGroup,
    GridItem,
    IconItem,
    ImageItem,
    LightboxItem,
    LinkItem,
    ListAction,
    ListItem,
    ListItemMapping,
    NumberEntry,
    NumberItem,
    SnackbarItem,
    ModalItem,
    DrawerItem,
    StatusBlock,
    StatusCase,
    StatusCondition,
    VisibilityExpressionRule,
    VisibilityRule,
    StoryItem,
    StoryStep,
    UploadItem,
    UsePatternItem,
    UseUIPackItem,
    TabItem,
    TabsItem,
    PageLayout,
    PageDecl,
    PageItem,
    RowItem,
    SectionItem,
    LoadingItem,
    TableColumnDirective,
    TableItem,
    TablePagination,
    TableRowAction,
    TableSort,
    ThemeSettingsPageItem,
    ViewItem,
    TextItem,
    TextInputItem,
    TitleItem,
)
from namel3ss.ast.ui_layout import (
    ConditionalBlock,
    LayoutColumn,
    LayoutDrawer,
    LayoutGrid,
    LayoutRow,
    LayoutStack,
    LayoutSticky,
    SidebarLayout,
)
from namel3ss.ast.ui_rag import RagUIBindings, RagUIBlock
from namel3ss.ast.app_permissions import AppPermissionActionDecl, AppPermissionDomainDecl, AppPermissionsDecl
from namel3ss.ast.ui_navigation import NavigationItem, NavigationSidebar
from namel3ss.ast.ui_state import UIStateDecl, UIStateField
from namel3ss.ast.ui_theme import ThemeTokenOverrides, ThemeTokens
from namel3ss.ast.policy import PolicyDecl, PolicyRuleDecl
from namel3ss.ast.ui_packs import UIPackDecl, UIPackFragment
from namel3ss.ast.ui_patterns import PatternArgument, PatternParam, PatternParamRef, UIPatternDecl
from namel3ss.ast.program import Flow, Program
from namel3ss.ast.identity import IdentityDecl
from namel3ss.ast.statements import (
    AskAIStmt,
    AdvanceTime,
    Delete,
    EnqueueJob,
    Find,
    ForEach,
    If,
    Let,
    Await,
    LogStmt,
    Match,
    MatchCase,
    MetricStmt,
    AgentMergePolicy,
    ParallelMergePolicy,
    OrchestrationMergePolicy,
    ThemeChange,
    ParallelAgentEntry,
    ParallelBlock,
    ParallelTask,
    OrchestrationBranch,
    OrchestrationBlock,
    Repeat,
    RepeatWhile,
    Return,
    Yield,
    RunAgentStmt,
    RunAgentsParallelStmt,
    Update,
    UpdateField,
    Create,
    KeepFirst,
    Save,
    Set,
    OrderList,
    Statement,
    TryCatch,
)
from namel3ss.ast.tool import ToolDecl, ToolField
from namel3ss.ast.records import FieldConstraint, FieldDecl, RecordDecl
from namel3ss.ast.routes import RouteDefinition, RouteField
from namel3ss.ast.prompts import PromptDefinition
from namel3ss.ast.crud import CrudDefinition
from namel3ss.ast.responsive import ResponsiveBreakpoint, ResponsiveDecl

__all__ = [
    "Node",
    "Flow",
    "Program",
    "JobDecl",
    "ContractDecl",
    "FlowStep",
    "FlowCallForeign",
    "FlowInput",
    "FlowInputField",
    "FlowRequire",
    "FlowField",
    "FlowCreate",
    "FlowUpdate",
    "FlowDelete",
    "Statement",
    "Let",
    "Set",
    "OrderList",
    "KeepFirst",
    "If",
    "Return",
    "Await",
    "Yield",
    "AskAIStmt",
    "RunAgentStmt",
    "ParallelAgentEntry",
    "RunAgentsParallelStmt",
    "AgentMergePolicy",
    "ParallelMergePolicy",
    "ParallelTask",
    "ParallelBlock",
    "OrchestrationBranch",
    "OrchestrationBlock",
    "OrchestrationMergePolicy",
    "ThemeChange",
    "EnqueueJob",
    "AdvanceTime",
    "LogStmt",
    "MetricStmt",
    "Repeat",
    "RepeatWhile",
    "ForEach",
    "MatchCase",
    "Match",
    "TryCatch",
    "Create",
    "Save",
    "Find",
    "UpdateField",
    "Update",
    "Delete",
    "Expression",
    "Literal",
    "VarReference",
    "AttrAccess",
    "StatePath",
    "ListExpr",
    "ListMapExpr",
    "ListFilterExpr",
    "ListReduceExpr",
    "MapEntry",
    "MapExpr",
    "ListOpExpr",
    "MapOpExpr",
    "AsyncCallExpr",
    "UnaryOp",
    "BinaryOp",
    "Comparison",
    "BuiltinCallExpr",
    "ToolCallArg",
    "ToolCallExpr",
    "CallArg",
    "FunctionCallArg",
    "CallFunctionExpr",
    "CallFlowExpr",
    "CallPipelineExpr",
    "Assignable",
    "FunctionParam",
    "FunctionSignature",
    "FunctionDecl",
    "FieldConstraint",
    "FieldDecl",
    "RecordDecl",
    "AgentTeamDecl",
    "AgentTeamMember",
    "PageItem",
    "TitleItem",
    "TextItem",
    "TextInputItem",
    "SliderItem",
    "TooltipItem",
    "UploadItem",
    "FormItem",
    "FormFieldConfig",
    "FormFieldRef",
    "FormGroup",
    "NumberEntry",
    "NumberItem",
    "ComposeItem",
    "StoryItem",
    "StoryStep",
    "ViewItem",
    "TableColumnDirective",
    "TableItem",
    "TablePagination",
    "TableRowAction",
    "TableSort",
    "ThemeSettingsPageItem",
    "ListAction",
    "ListItem",
    "ListItemMapping",
    "ChartItem",
    "CustomComponentItem",
    "CustomComponentProp",
    "UsePatternItem",
    "UseUIPackItem",
    "ChatMessagesItem",
    "ChatComposerField",
    "ChatComposerItem",
    "ChatThinkingItem",
    "ChatCitationsItem",
    "ChatMemoryItem",
    "CitationChipsItem",
    "SourcePreviewItem",
    "TrustIndicatorItem",
    "ScopeSelectorItem",
    "ChatItem",
    "LayoutStack",
    "LayoutRow",
    "LayoutColumn",
    "LayoutGrid",
    "SidebarLayout",
    "LayoutDrawer",
    "LayoutSticky",
    "ConditionalBlock",
    "RagUIBindings",
    "RagUIBlock",
    "AppPermissionActionDecl",
    "AppPermissionDomainDecl",
    "AppPermissionsDecl",
    "ThemeTokenOverrides",
    "ThemeTokens",
    "NavigationItem",
    "NavigationSidebar",
    "UIStateField",
    "UIStateDecl",
    "PageLayout",
    "StatusBlock",
    "StatusCase",
    "StatusCondition",
    "ActionAvailabilityRule",
    "ActivePageRule",
    "VisibilityRule",
    "VisibilityExpressionRule",
    "ModalItem",
    "DrawerItem",
    "TabItem",
    "TabsItem",
    "ButtonItem",
    "LinkItem",
    "SectionItem",
    "CardAction",
    "CardGroupItem",
    "CardItem",
    "CardStat",
    "RowItem",
    "ColumnItem",
    "DividerItem",
    "ImageItem",
    "GridItem",
    "LoadingItem",
    "SnackbarItem",
    "IconItem",
    "LightboxItem",
    "PageDecl",
    "UIPackDecl",
    "UIPackFragment",
    "UIPatternDecl",
    "PatternParam",
    "PatternArgument",
    "PatternParamRef",
    "IdentityDecl",
    "AIDecl",
    "AIMemory",
    "AIFlowMetadata",
    "AIFlowDefinition",
    "AIFlowTestConfig",
    "AIOutputField",
    "ChainStep",
    "ToolDecl",
    "ToolField",
    "RouteDefinition",
    "RouteField",
    "PromptDefinition",
    "CrudDefinition",
    "ResponsiveBreakpoint",
    "ResponsiveDecl",
    "AgentDecl",
    "UseDecl",
    "PluginUseDecl",
    "IncludeDecl",
    "CapsuleExport",
    "CapsuleDecl",
    "PolicyDecl",
    "PolicyRuleDecl",
]

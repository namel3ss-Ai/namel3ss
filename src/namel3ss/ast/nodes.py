from __future__ import annotations

from dataclasses import dataclass
from typing import List, Optional, Union

from namel3ss.ast.agents import AgentDecl, AgentTeamDecl, AgentTeamMember
from namel3ss.ast.ai import AIDecl, AIMemory
from namel3ss.ast.base import Node
from namel3ss.ast.calls import CallArg, CallFlowExpr, CallPipelineExpr
from namel3ss.ast.contracts import ContractDecl
from namel3ss.ast.expressions import (
    Assignable,
    AttrAccess,
    BinaryOp,
    BuiltinCallExpr,
    Comparison,
    Expression,
    ListExpr,
    ListFilterExpr,
    ListMapExpr,
    ListReduceExpr,
    Literal,
    MapEntry,
    MapExpr,
    ListOpExpr,
    MapOpExpr,
    StatePath,
    ToolCallArg,
    ToolCallExpr,
    UnaryOp,
    VarReference,
)
from namel3ss.ast.flow_steps import (
    FlowCallForeign,
    FlowCreate,
    FlowDelete,
    FlowField,
    FlowInput,
    FlowInputField,
    FlowRequire,
    FlowStep,
    FlowUpdate,
)
from namel3ss.ast.functions import (
    CallFunctionExpr,
    FunctionCallArg,
    FunctionDecl,
    FunctionParam,
    FunctionSignature,
)
from namel3ss.ast.modules import CapsuleDecl, CapsuleExport, UseDecl
from namel3ss.ast.jobs import JobDecl
from namel3ss.ast.pages import (
    ButtonItem,
    CardAction,
    CardGroupItem,
    CardItem,
    CardStat,
    ChartItem,
    ComposeItem,
    ChatCitationsItem,
    ChatComposerField,
    ChatComposerItem,
    ChatItem,
    ChatMemoryItem,
    ChatMessagesItem,
    ChatThinkingItem,
    ColumnItem,
    DividerItem,
    FormItem,
    FormFieldConfig,
    FormFieldRef,
    FormGroup,
    ImageItem,
    LinkItem,
    ListAction,
    ListItem,
    ListItemMapping,
    NumberEntry,
    NumberItem,
    ModalItem,
    DrawerItem,
    StatusBlock,
    StatusCase,
    StatusCondition,
    VisibilityRule,
    StoryItem,
    StoryStep,
    UploadItem,
    UsePatternItem,
    UseUIPackItem,
    TabItem,
    TabsItem,
    PageDecl,
    PageItem,
    RowItem,
    SectionItem,
    TableColumnDirective,
    TableItem,
    TablePagination,
    TableRowAction,
    TableSort,
    ViewItem,
    TextItem,
    TextInputItem,
    TitleItem,
)
from namel3ss.ast.policy import PolicyDecl, PolicyRuleDecl
from namel3ss.ast.ui_packs import UIPackDecl, UIPackFragment
from namel3ss.ast.ui_patterns import PatternArgument, PatternParam, PatternParamRef, UIPatternDecl
from namel3ss.ast.program import Flow, Program
from namel3ss.ast.identity import IdentityDecl
from namel3ss.ast.statements import (
    AskAIStmt,
    AdvanceTime,
    Delete,
    EnqueueJob,
    Find,
    ForEach,
    If,
    Let,
    LogStmt,
    Match,
    MatchCase,
    MetricStmt,
    AgentMergePolicy,
    ParallelMergePolicy,
    OrchestrationMergePolicy,
    ThemeChange,
    ParallelAgentEntry,
    ParallelBlock,
    ParallelTask,
    OrchestrationBranch,
    OrchestrationBlock,
    Repeat,
    RepeatWhile,
    Return,
    RunAgentStmt,
    RunAgentsParallelStmt,
    Update,
    UpdateField,
    Create,
    KeepFirst,
    Save,
    Set,
    OrderList,
    Statement,
    TryCatch,
)
from namel3ss.ast.tool import ToolDecl, ToolField
from namel3ss.ast.records import FieldConstraint, FieldDecl, RecordDecl

__all__ = [
    "Node",
    "Flow",
    "Program",
    "JobDecl",
    "ContractDecl",
    "FlowStep",
    "FlowCallForeign",
    "FlowInput",
    "FlowInputField",
    "FlowRequire",
    "FlowField",
    "FlowCreate",
    "FlowUpdate",
    "FlowDelete",
    "Statement",
    "Let",
    "Set",
    "OrderList",
    "KeepFirst",
    "If",
    "Return",
    "AskAIStmt",
    "RunAgentStmt",
    "ParallelAgentEntry",
    "RunAgentsParallelStmt",
    "AgentMergePolicy",
    "ParallelMergePolicy",
    "ParallelTask",
    "ParallelBlock",
    "OrchestrationBranch",
    "OrchestrationBlock",
    "OrchestrationMergePolicy",
    "ThemeChange",
    "EnqueueJob",
    "AdvanceTime",
    "LogStmt",
    "MetricStmt",
    "Repeat",
    "RepeatWhile",
    "ForEach",
    "MatchCase",
    "Match",
    "TryCatch",
    "Create",
    "Save",
    "Find",
    "UpdateField",
    "Update",
    "Delete",
    "Expression",
    "Literal",
    "VarReference",
    "AttrAccess",
    "StatePath",
    "ListExpr",
    "ListMapExpr",
    "ListFilterExpr",
    "ListReduceExpr",
    "MapEntry",
    "MapExpr",
    "ListOpExpr",
    "MapOpExpr",
    "UnaryOp",
    "BinaryOp",
    "Comparison",
    "BuiltinCallExpr",
    "ToolCallArg",
    "ToolCallExpr",
    "CallArg",
    "FunctionCallArg",
    "CallFunctionExpr",
    "CallFlowExpr",
    "CallPipelineExpr",
    "Assignable",
    "FunctionParam",
    "FunctionSignature",
    "FunctionDecl",
    "FieldConstraint",
    "FieldDecl",
    "RecordDecl",
    "AgentTeamDecl",
    "AgentTeamMember",
    "PageItem",
    "TitleItem",
    "TextItem",
    "TextInputItem",
    "UploadItem",
    "FormItem",
    "FormFieldConfig",
    "FormFieldRef",
    "FormGroup",
    "NumberEntry",
    "NumberItem",
    "ComposeItem",
    "StoryItem",
    "StoryStep",
    "ViewItem",
    "TableColumnDirective",
    "TableItem",
    "TablePagination",
    "TableRowAction",
    "TableSort",
    "ListAction",
    "ListItem",
    "ListItemMapping",
    "ChartItem",
    "UsePatternItem",
    "UseUIPackItem",
    "ChatMessagesItem",
    "ChatComposerField",
    "ChatComposerItem",
    "ChatThinkingItem",
    "ChatCitationsItem",
    "ChatMemoryItem",
    "ChatItem",
    "StatusBlock",
    "StatusCase",
    "StatusCondition",
    "VisibilityRule",
    "ModalItem",
    "DrawerItem",
    "TabItem",
    "TabsItem",
    "ButtonItem",
    "LinkItem",
    "SectionItem",
    "CardAction",
    "CardGroupItem",
    "CardItem",
    "CardStat",
    "RowItem",
    "ColumnItem",
    "DividerItem",
    "ImageItem",
    "PageDecl",
    "UIPackDecl",
    "UIPackFragment",
    "UIPatternDecl",
    "PatternParam",
    "PatternArgument",
    "PatternParamRef",
    "IdentityDecl",
    "AIDecl",
    "AIMemory",
    "ToolDecl",
    "ToolField",
    "AgentDecl",
    "UseDecl",
    "CapsuleExport",
    "CapsuleDecl",
    "PolicyDecl",
    "PolicyRuleDecl",
]

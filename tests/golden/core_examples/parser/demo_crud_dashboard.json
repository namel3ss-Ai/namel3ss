{
  "type": "Program",
  "line": null,
  "column": null,
  "spec_version": "1.0",
  "app_theme": "system",
  "app_theme_line": null,
  "app_theme_column": null,
  "theme_tokens": {},
  "theme_preference": {
    "allow_override": [
      false,
      null,
      null
    ],
    "persist": [
      "none",
      null,
      null
    ]
  },
  "records": [
    {
      "type": "RecordDecl",
      "line": 3,
      "column": 1,
      "name": "Customer",
      "fields": [
        {
          "type": "FieldDecl",
          "line": 5,
          "column": 5,
          "name": "name",
          "type_name": "text",
          "constraint": {
            "type": "FieldConstraint",
            "line": 5,
            "column": 23,
            "kind": "present",
            "expression": null,
            "expression_high": null,
            "pattern": null
          },
          "type_was_alias": false,
          "raw_type_name": null,
          "type_line": 5,
          "type_column": 13
        },
        {
          "type": "FieldDecl",
          "line": 6,
          "column": 5,
          "name": "email",
          "type_name": "text",
          "constraint": {
            "type": "FieldConstraint",
            "line": 6,
            "column": 24,
            "kind": "pattern",
            "expression": null,
            "expression_high": null,
            "pattern": ".+@.+"
          },
          "type_was_alias": false,
          "raw_type_name": null,
          "type_line": 6,
          "type_column": 14
        },
        {
          "type": "FieldDecl",
          "line": 7,
          "column": 5,
          "name": "plan",
          "type_name": "text",
          "constraint": {
            "type": "FieldConstraint",
            "line": 7,
            "column": 23,
            "kind": "present",
            "expression": null,
            "expression_high": null,
            "pattern": null
          },
          "type_was_alias": false,
          "raw_type_name": null,
          "type_line": 7,
          "type_column": 13
        },
        {
          "type": "FieldDecl",
          "line": 8,
          "column": 5,
          "name": "age",
          "type_name": "number",
          "constraint": {
            "type": "FieldConstraint",
            "line": 8,
            "column": 24,
            "kind": "gt",
            "expression": {
              "type": "Literal",
              "line": 8,
              "column": 40,
              "value": "17"
            },
            "expression_high": null,
            "pattern": null
          },
          "type_was_alias": false,
          "raw_type_name": null,
          "type_line": 8,
          "type_column": 12
        }
      ],
      "tenant_key": null,
      "ttl_hours": null
    }
  ],
  "flows": [
    {
      "type": "Flow",
      "line": 10,
      "column": 1,
      "name": "seed_customers",
      "body": [
        {
          "type": "Set",
          "line": 12,
          "column": 5,
          "target": {
            "type": "StatePath",
            "line": 12,
            "column": 5,
            "path": [
              "customer",
              "name"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 12,
            "column": 13,
            "value": "Ada Lovelace"
          }
        },
        {
          "type": "Set",
          "line": 13,
          "column": 5,
          "target": {
            "type": "StatePath",
            "line": 13,
            "column": 5,
            "path": [
              "customer",
              "email"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 13,
            "column": 14,
            "value": "ada@example.com"
          }
        },
        {
          "type": "Set",
          "line": 14,
          "column": 5,
          "target": {
            "type": "StatePath",
            "line": 14,
            "column": 5,
            "path": [
              "customer",
              "plan"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 14,
            "column": 13,
            "value": "Pro"
          }
        },
        {
          "type": "Set",
          "line": 15,
          "column": 5,
          "target": {
            "type": "StatePath",
            "line": 15,
            "column": 5,
            "path": [
              "customer",
              "age"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 15,
            "column": 12,
            "value": "28"
          }
        },
        {
          "type": "Create",
          "line": 16,
          "column": 3,
          "record_name": "Customer",
          "values": {
            "type": "StatePath",
            "line": 16,
            "column": 26,
            "path": [
              "customer"
            ]
          },
          "target": "customer"
        },
        {
          "type": "Set",
          "line": 18,
          "column": 5,
          "target": {
            "type": "StatePath",
            "line": 18,
            "column": 5,
            "path": [
              "customer",
              "name"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 18,
            "column": 13,
            "value": "Ben Lee"
          }
        },
        {
          "type": "Set",
          "line": 19,
          "column": 5,
          "target": {
            "type": "StatePath",
            "line": 19,
            "column": 5,
            "path": [
              "customer",
              "email"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 19,
            "column": 14,
            "value": "ben@example.com"
          }
        },
        {
          "type": "Set",
          "line": 20,
          "column": 5,
          "target": {
            "type": "StatePath",
            "line": 20,
            "column": 5,
            "path": [
              "customer",
              "plan"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 20,
            "column": 13,
            "value": "Starter"
          }
        },
        {
          "type": "Set",
          "line": 21,
          "column": 5,
          "target": {
            "type": "StatePath",
            "line": 21,
            "column": 5,
            "path": [
              "customer",
              "age"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 21,
            "column": 12,
            "value": "24"
          }
        },
        {
          "type": "Create",
          "line": 22,
          "column": 3,
          "record_name": "Customer",
          "values": {
            "type": "StatePath",
            "line": 22,
            "column": 26,
            "path": [
              "customer"
            ]
          },
          "target": "customer"
        },
        {
          "type": "Return",
          "line": 23,
          "column": 3,
          "expression": {
            "type": "Literal",
            "line": 23,
            "column": 10,
            "value": "Seeded demo customers"
          }
        }
      ],
      "requires": null,
      "audited": false
    },
    {
      "type": "Flow",
      "line": 25,
      "column": 1,
      "name": "reset_dashboard",
      "body": [
        {
          "type": "Set",
          "line": 26,
          "column": 3,
          "target": {
            "type": "StatePath",
            "line": 26,
            "column": 7,
            "path": [
              "customer"
            ]
          },
          "expression": {
            "type": "Literal",
            "line": 26,
            "column": 25,
            "value": null
          }
        },
        {
          "type": "Return",
          "line": 27,
          "column": 3,
          "expression": {
            "type": "Literal",
            "line": 27,
            "column": 10,
            "value": "State cleared (records remain for review)."
          }
        }
      ],
      "requires": null,
      "audited": false
    }
  ],
  "pages": [
    {
      "type": "PageDecl",
      "line": 29,
      "column": 1,
      "name": "home",
      "items": [
        {
          "type": "TitleItem",
          "line": 30,
          "column": 3,
          "value": "Customer Dashboard"
        },
        {
          "type": "TextItem",
          "line": 31,
          "column": 3,
          "value": "Add customers and view them below."
        },
        {
          "type": "SectionItem",
          "line": 32,
          "column": 3,
          "label": "Quick actions",
          "children": [
            {
              "type": "RowItem",
              "line": 33,
              "column": 5,
              "children": [
                {
                  "type": "ColumnItem",
                  "line": 34,
                  "column": 7,
                  "children": [
                    {
                      "type": "ButtonItem",
                      "line": 35,
                      "column": 9,
                      "label": "Seed demo data",
                      "flow_name": "seed_customers"
                    }
                  ]
                },
                {
                  "type": "ColumnItem",
                  "line": 37,
                  "column": 7,
                  "children": [
                    {
                      "type": "ButtonItem",
                      "line": 38,
                      "column": 9,
                      "label": "Reset state",
                      "flow_name": "reset_dashboard"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "RowItem",
          "line": 40,
          "column": 3,
          "children": [
            {
              "type": "ColumnItem",
              "line": 41,
              "column": 5,
              "children": [
                {
                  "type": "CardItem",
                  "line": 42,
                  "column": 7,
                  "label": "Add customer",
                  "children": [
                    {
                      "type": "FormItem",
                      "line": 43,
                      "column": 9,
                      "record_name": "Customer"
                    }
                  ]
                }
              ]
            },
            {
              "type": "ColumnItem",
              "line": 44,
              "column": 5,
              "children": [
                {
                  "type": "CardItem",
                  "line": 45,
                  "column": 7,
                  "label": "Customer list",
                  "children": [
                    {
                      "type": "TableItem",
                      "line": 46,
                      "column": 9,
                      "record_name": "Customer"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "requires": null
    }
  ],
  "ais": [],
  "tools": [],
  "agents": [],
  "uses": [],
  "capsule": null,
  "identity": null
}

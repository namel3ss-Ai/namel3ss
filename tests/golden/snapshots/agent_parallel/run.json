{
  "contract": {
    "errors": [],
    "flow_name": "demo",
    "memory": {
      "count": 0,
      "events": []
    },
    "outcome": {
      "outcome": {
        "execution_steps_count": 6,
        "flow_name": "demo",
        "memory": {
          "persist_attempted": true,
          "persist_failed": false,
          "persist_succeeded": true,
          "skipped_reason": null
        },
        "record_changes_count": 0,
        "state": {
          "loaded_from_store": false,
          "save_attempted": true,
          "save_failed": false,
          "save_succeeded": true
        },
        "status": "ok",
        "store": {
          "began": true,
          "commit_failed": false,
          "committed": true,
          "rollback_failed": false,
          "rolled_back": false
        },
        "traces_count": 1,
        "what_did_not_happen": []
      },
      "summary": {
        "flow_name": "demo",
        "memory": {
          "persist_attempted": true,
          "persist_failed": false,
          "persist_succeeded": true,
          "skipped_reason": null
        },
        "status": "ok",
        "store": {
          "began": true,
          "commit_failed": false,
          "committed": true,
          "rollback_failed": false,
          "rolled_back": false
        }
      }
    },
    "result": [
      {
        "text": "[gpt-4.1] Plan. :: Task | mem:st=0"
      },
      {
        "text": "[gpt-4.1] Critic. :: Task | mem:st=0"
      }
    ],
    "schema_version": "production.v0",
    "state": {},
    "status": "ok",
    "trace_hash": "a36b404b5242958aac563476e2ea823b97c04eadcdd645d7a8b8a4434521f534",
    "trace_schema_version": "2024-10-01",
    "traces": [
      {
        "agents": [
          {
            "agent_name": "planner",
            "ai_name": "assistant",
            "ai_profile_name": "assistant",
            "canonical_events": [
              {
                "ai_profile": "assistant",
                "deterministic_hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
                "phase_counts": {},
                "policy": {
                  "allow_cross_phase_recall": false,
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "budget": {
                    "defaults": [
                      {
                        "cache_enabled": true,
                        "cache_max_entries": 50,
                        "compaction_enabled": true,
                        "lane": "team",
                        "max_items_agent": null,
                        "max_items_profile": null,
                        "max_items_semantic": null,
                        "max_items_short_term": null,
                        "max_items_team": 30,
                        "max_links_per_item": 10,
                        "max_phases_per_lane": 6,
                        "owner": "any",
                        "phase": "any",
                        "space": "any"
                      },
                      {
                        "cache_enabled": true,
                        "cache_max_entries": 50,
                        "compaction_enabled": true,
                        "lane": "agent",
                        "max_items_agent": 20,
                        "max_items_profile": null,
                        "max_items_semantic": null,
                        "max_items_short_term": null,
                        "max_items_team": null,
                        "max_links_per_item": 10,
                        "max_phases_per_lane": 6,
                        "owner": "any",
                        "phase": "any",
                        "space": "any"
                      },
                      {
                        "cache_enabled": true,
                        "cache_max_entries": 50,
                        "compaction_enabled": true,
                        "lane": "any",
                        "max_items_agent": null,
                        "max_items_profile": 10,
                        "max_items_semantic": 20,
                        "max_items_short_term": 12,
                        "max_items_team": null,
                        "max_links_per_item": 10,
                        "max_phases_per_lane": 6,
                        "owner": "any",
                        "phase": "any",
                        "space": "any"
                      }
                    ]
                  },
                  "dedupe_enabled": true,
                  "deny_event_types": [],
                  "forget_policy": "decay",
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "phase_diff_enabled": true,
                  "phase_enabled": true,
                  "phase_max_phases": null,
                  "phase_mode": "current_only",
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "profile": false,
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "semantic": false,
                  "semantic_top_k": 3,
                  "short_term": 0,
                  "short_term_max_turns": 0,
                  "short_term_token_budget": "***REDACTED***",
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "query": "Task",
                "recall_counts": {
                  "project": 0,
                  "session": 0,
                  "system": 0,
                  "user": 0
                },
                "recalled": [],
                "session": "anonymous",
                "spaces_consulted": [
                  "session",
                  "user",
                  "project",
                  "system"
                ],
                "trace_version": "2024-10-01",
                "type": "memory_recall"
              },
              {
                "for_event_index": 0,
                "lines": [
                  "Phase used is unknown.",
                  "Spaces checked are session, user, project, system.",
                  "Recalled items count is 0.",
                  "Only the current phase was used.",
                  "Older phases were ignored.",
                  "No items were recalled from session.",
                  "No items were recalled from user.",
                  "No items were recalled from project.",
                  "No items were recalled from system."
                ],
                "title": "Memory recall",
                "trace_version": "2024-10-01",
                "type": "memory_explanation"
              },
              {
                "lines": [
                  "Memory is new.",
                  "No memory items yet.",
                  "Team memory is empty.",
                  "No active rules.",
                  "No proposals are waiting.",
                  "No handoffs are waiting.",
                  "Cache is empty."
                ],
                "title": "Memory wake up report",
                "trace_version": "2024-10-01",
                "type": "memory_wake_up_report"
              },
              {
                "action": "read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "my",
                "lines": [
                  "Cache was not used for recall.",
                  "Result was stored for reuse."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "session",
                "title": "Memory cache miss",
                "trace_version": "2024-10-01",
                "type": "memory_cache_miss"
              },
              {
                "action": "read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_space": "user",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "user",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "my",
                "lines": [
                  "Cache was not used for recall.",
                  "Result was stored for reuse."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "user",
                "title": "Memory cache miss",
                "trace_version": "2024-10-01",
                "type": "memory_cache_miss"
              },
              {
                "action": "read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_space": "project",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "agent",
                "from_space": "project",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "agent",
                "lines": [
                  "Cache was not used for recall.",
                  "Result was stored for reuse."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "project",
                "title": "Memory cache miss",
                "trace_version": "2024-10-01",
                "type": "memory_cache_miss"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "team",
                "from_space": "project",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "team",
                "lines": [
                  "Cache was not used for recall.",
                  "Result was stored for reuse."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "project",
                "title": "Memory cache miss",
                "trace_version": "2024-10-01",
                "type": "memory_cache_miss"
              },
              {
                "action": "read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_space": "system",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "system",
                "from_space": "system",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "system",
                "lines": [
                  "Cache was not used for recall.",
                  "Result was stored for reuse."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "system",
                "title": "Memory cache miss",
                "trace_version": "2024-10-01",
                "type": "memory_cache_miss"
              },
              {
                "input_summary": "Task",
                "memory_enabled": false,
                "model": "gpt-4.1",
                "provider": "mock",
                "tools_declared_count": 0,
                "trace_version": "2024-10-01",
                "type": "ai_call_started"
              },
              {
                "model": "gpt-4.1",
                "output_summary": "[gpt-4.1] Plan. :: Task | mem:st=0",
                "provider": "mock",
                "tokens_in": "***REDACTED***",
                "tokens_out": "***REDACTED***",
                "trace_version": "2024-10-01",
                "type": "ai_call_completed"
              },
              {
                "ai_profile": "assistant",
                "reason": "interaction_recorded",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_write",
                "written": [
                  {
                    "created_at": 2,
                    "id": "session:anonymous:my:short_term:1",
                    "importance": 2,
                    "kind": "short_term",
                    "meta": {
                      "authority": "***REDACTED***",
                      "authority_reason": "***REDACTED***",
                      "can_change": true,
                      "dedup_key": "context:task",
                      "event_type": "context",
                      "importance_reason": [
                        "event:context",
                        "source:user"
                      ],
                      "lane": "my",
                      "owner": "anonymous",
                      "phase_id": "phase-1",
                      "phase_reason": "auto",
                      "phase_started_at": 1,
                      "policy_tags": [
                        "allowed_by:privacy",
                        "allowed_by:promotion_rule"
                      ],
                      "space": "session",
                      "visible_to": "me"
                    },
                    "scope": "session",
                    "source": "user",
                    "text": "Task"
                  },
                  {
                    "created_at": 3,
                    "id": "session:anonymous:my:short_term:2",
                    "importance": 1,
                    "kind": "short_term",
                    "meta": {
                      "authority": "***REDACTED***",
                      "authority_reason": "***REDACTED***",
                      "can_change": true,
                      "dedup_key": "context:gpt 4 1 plan task mem st 0",
                      "event_type": "context",
                      "importance_reason": [
                        "event:context"
                      ],
                      "lane": "my",
                      "owner": "anonymous",
                      "phase_id": "phase-1",
                      "phase_reason": "auto",
                      "phase_started_at": 1,
                      "policy_tags": [
                        "allowed_by:privacy",
                        "allowed_by:promotion_rule"
                      ],
                      "space": "session",
                      "visible_to": "me"
                    },
                    "scope": "session",
                    "source": "ai",
                    "text": "[gpt-4.1] Plan. :: Task | mem:st=0"
                  }
                ]
              },
              {
                "action": "phase_start",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  }
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "my",
                "owner": "anonymous",
                "phase_id": "phase-1",
                "policy_snapshot": {
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  }
                },
                "reason": "auto",
                "session": "anonymous",
                "space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_phase_started"
              },
              {
                "action": "write",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "subject_id": "session:anonymous:my:short_term:1",
                "to_lane": "my",
                "to_space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_write",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "subject_id": "session:anonymous:my:short_term:1",
                "to_lane": "my",
                "to_space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "write",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "subject_id": "session:anonymous:my:short_term:2",
                "to_lane": "my",
                "to_space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_write",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "subject_id": "session:anonymous:my:short_term:2",
                "to_lane": "my",
                "to_space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              }
            ],
            "input": "Task",
            "memory": {
              "profile": [],
              "semantic": [],
              "short_term": []
            },
            "model": "gpt-4.1",
            "output": "[gpt-4.1] Plan. :: Task | mem:st=0",
            "system_prompt": "Plan.",
            "tool_calls": [],
            "tool_results": []
          },
          {
            "agent_name": "critic",
            "ai_name": "assistant",
            "ai_profile_name": "assistant",
            "canonical_events": [
              {
                "ai_profile": "assistant",
                "current_phase": {
                  "phase_id": "phase-1",
                  "phase_index": 1,
                  "phase_reason": "auto",
                  "phase_started_at": 1
                },
                "deterministic_hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
                "phase_counts": {},
                "policy": {
                  "allow_cross_phase_recall": false,
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "budget": {
                    "defaults": [
                      {
                        "cache_enabled": true,
                        "cache_max_entries": 50,
                        "compaction_enabled": true,
                        "lane": "team",
                        "max_items_agent": null,
                        "max_items_profile": null,
                        "max_items_semantic": null,
                        "max_items_short_term": null,
                        "max_items_team": 30,
                        "max_links_per_item": 10,
                        "max_phases_per_lane": 6,
                        "owner": "any",
                        "phase": "any",
                        "space": "any"
                      },
                      {
                        "cache_enabled": true,
                        "cache_max_entries": 50,
                        "compaction_enabled": true,
                        "lane": "agent",
                        "max_items_agent": 20,
                        "max_items_profile": null,
                        "max_items_semantic": null,
                        "max_items_short_term": null,
                        "max_items_team": null,
                        "max_links_per_item": 10,
                        "max_phases_per_lane": 6,
                        "owner": "any",
                        "phase": "any",
                        "space": "any"
                      },
                      {
                        "cache_enabled": true,
                        "cache_max_entries": 50,
                        "compaction_enabled": true,
                        "lane": "any",
                        "max_items_agent": null,
                        "max_items_profile": 10,
                        "max_items_semantic": 20,
                        "max_items_short_term": 12,
                        "max_items_team": null,
                        "max_links_per_item": 10,
                        "max_phases_per_lane": 6,
                        "owner": "any",
                        "phase": "any",
                        "space": "any"
                      }
                    ]
                  },
                  "dedupe_enabled": true,
                  "deny_event_types": [],
                  "forget_policy": "decay",
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "phase_diff_enabled": true,
                  "phase_enabled": true,
                  "phase_max_phases": null,
                  "phase_mode": "current_only",
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "profile": false,
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "semantic": false,
                  "semantic_top_k": 3,
                  "short_term": 0,
                  "short_term_max_turns": 0,
                  "short_term_token_budget": "***REDACTED***",
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "query": "Task",
                "recall_counts": {
                  "project": 0,
                  "session": 0,
                  "system": 0,
                  "user": 0
                },
                "recalled": [],
                "session": "anonymous",
                "spaces_consulted": [
                  "session",
                  "user",
                  "project",
                  "system"
                ],
                "trace_version": "2024-10-01",
                "type": "memory_recall"
              },
              {
                "for_event_index": 0,
                "lines": [
                  "Phase used is phase-1.",
                  "Spaces checked are session, user, project, system.",
                  "Recalled items count is 0.",
                  "Only the current phase was used.",
                  "Older phases were ignored.",
                  "No items were recalled from session.",
                  "No items were recalled from user.",
                  "No items were recalled from project.",
                  "No items were recalled from system."
                ],
                "title": "Memory recall",
                "trace_version": "2024-10-01",
                "type": "memory_explanation"
              },
              {
                "action": "read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "my",
                "lines": [
                  "Cache was not used for recall.",
                  "Result was stored for reuse."
                ],
                "phase_id": "phase-1",
                "session": "anonymous",
                "space": "session",
                "title": "Memory cache miss",
                "trace_version": "2024-10-01",
                "type": "memory_cache_miss"
              },
              {
                "action": "read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_space": "user",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "user",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "my",
                "lines": [
                  "Cache was used for recall.",
                  "Cached result was returned."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "user",
                "title": "Memory cache hit",
                "trace_version": "2024-10-01",
                "type": "memory_cache_hit"
              },
              {
                "action": "read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_space": "project",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "agent",
                "from_space": "project",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "agent",
                "lines": [
                  "Cache was not used for recall.",
                  "Result was stored for reuse."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "project",
                "title": "Memory cache miss",
                "trace_version": "2024-10-01",
                "type": "memory_cache_miss"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "team",
                "from_space": "project",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "team",
                "lines": [
                  "Cache was used for recall.",
                  "Cached result was returned."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "project",
                "title": "Memory cache hit",
                "trace_version": "2024-10-01",
                "type": "memory_cache_hit"
              },
              {
                "action": "read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_space": "system",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_read",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "system",
                "from_space": "system",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "ai_profile": "assistant",
                "lane": "system",
                "lines": [
                  "Cache was used for recall.",
                  "Cached result was returned."
                ],
                "phase_id": "phase-unknown",
                "session": "anonymous",
                "space": "system",
                "title": "Memory cache hit",
                "trace_version": "2024-10-01",
                "type": "memory_cache_hit"
              },
              {
                "input_summary": "Task",
                "memory_enabled": false,
                "model": "gpt-4.1",
                "provider": "mock",
                "tools_declared_count": 0,
                "trace_version": "2024-10-01",
                "type": "ai_call_started"
              },
              {
                "model": "gpt-4.1",
                "output_summary": "[gpt-4.1] Critic. :: Task | mem:st=0",
                "provider": "mock",
                "tokens_in": "***REDACTED***",
                "tokens_out": "***REDACTED***",
                "trace_version": "2024-10-01",
                "type": "ai_call_completed"
              },
              {
                "ai_profile": "assistant",
                "reason": "interaction_recorded",
                "session": "anonymous",
                "trace_version": "2024-10-01",
                "type": "memory_write",
                "written": [
                  {
                    "created_at": 4,
                    "id": "session:anonymous:my:short_term:3",
                    "importance": 2,
                    "kind": "short_term",
                    "meta": {
                      "authority": "***REDACTED***",
                      "authority_reason": "***REDACTED***",
                      "can_change": true,
                      "dedup_key": "context:task",
                      "event_type": "context",
                      "importance_reason": [
                        "event:context",
                        "source:user"
                      ],
                      "lane": "my",
                      "owner": "anonymous",
                      "phase_id": "phase-1",
                      "phase_reason": "auto",
                      "phase_started_at": 1,
                      "policy_tags": [
                        "allowed_by:privacy",
                        "allowed_by:promotion_rule"
                      ],
                      "space": "session",
                      "visible_to": "me"
                    },
                    "scope": "session",
                    "source": "user",
                    "text": "Task"
                  },
                  {
                    "created_at": 5,
                    "id": "session:anonymous:my:short_term:4",
                    "importance": 1,
                    "kind": "short_term",
                    "meta": {
                      "authority": "***REDACTED***",
                      "authority_reason": "***REDACTED***",
                      "can_change": true,
                      "dedup_key": "context:gpt 4 1 critic task mem st 0",
                      "event_type": "context",
                      "importance_reason": [
                        "event:context"
                      ],
                      "lane": "my",
                      "owner": "anonymous",
                      "phase_id": "phase-1",
                      "phase_reason": "auto",
                      "phase_started_at": 1,
                      "policy_tags": [
                        "allowed_by:privacy",
                        "allowed_by:promotion_rule"
                      ],
                      "space": "session",
                      "visible_to": "me"
                    },
                    "scope": "session",
                    "source": "ai",
                    "text": "[gpt-4.1] Critic. :: Task | mem:st=0"
                  }
                ]
              },
              {
                "action": "write",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "subject_id": "session:anonymous:my:short_term:3",
                "to_lane": "my",
                "to_space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_write",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "subject_id": "session:anonymous:my:short_term:3",
                "to_lane": "my",
                "to_space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "write",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "subject_id": "session:anonymous:my:short_term:4",
                "to_lane": "my",
                "to_space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              },
              {
                "action": "lane_write",
                "ai_profile": "assistant",
                "allowed": true,
                "from_lane": "my",
                "from_space": "session",
                "policy_snapshot": {
                  "allow_event_types": [],
                  "authority_order": "***REDACTED***",
                  "deny_event_types": [],
                  "lanes": {
                    "agent_enabled": true,
                    "read_order": [
                      "my",
                      "agent",
                      "team",
                      "system"
                    ],
                    "system_enabled": true,
                    "team_can_change": true,
                    "team_enabled": true,
                    "team_event_types": [
                      "decision",
                      "rule",
                      "execution"
                    ],
                    "write_lanes": [
                      "my",
                      "agent"
                    ]
                  },
                  "phase": {
                    "allow_cross_phase_recall": false,
                    "diff_enabled": true,
                    "enabled": true,
                    "max_phases": null,
                    "mode": "current_only"
                  },
                  "privacy": {
                    "allow_profile_keys": [
                      "name",
                      "timezone",
                      "language",
                      "project",
                      "editor",
                      "units"
                    ],
                    "deny_patterns": [
                      "password",
                      "secret",
                      "token",
                      "api key",
                      "apikey",
                      "credit card",
                      "ssn",
                      "social security",
                      "private key"
                    ],
                    "deny_sensitive": true
                  },
                  "promotion": {
                    "profile": {
                      "allowed_event_types": [
                        "fact",
                        "correction"
                      ]
                    },
                    "semantic": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    },
                    "short_term": {
                      "allowed_event_types": [
                        "context",
                        "correction",
                        "decision",
                        "execution",
                        "fact",
                        "preference",
                        "rule"
                      ]
                    }
                  },
                  "retention": {
                    "profile": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    },
                    "semantic": {
                      "context": {
                        "mode": "decay",
                        "ttl_ticks": 12
                      },
                      "correction": {
                        "mode": "decay",
                        "ttl_ticks": 45
                      },
                      "decision": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "execution": {
                        "mode": "decay",
                        "ttl_ticks": 18
                      },
                      "fact": {
                        "mode": "decay",
                        "ttl_ticks": 60
                      },
                      "preference": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      },
                      "rule": {
                        "mode": "decay",
                        "ttl_ticks": 40
                      }
                    },
                    "short_term": {
                      "context": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "correction": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "decision": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "execution": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "fact": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "preference": {
                        "mode": "never",
                        "ttl_ticks": null
                      },
                      "rule": {
                        "mode": "never",
                        "ttl_ticks": null
                      }
                    }
                  },
                  "spaces": {
                    "promotions": [
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "user"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": true,
                        "from_space": "session",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      },
                      {
                        "allowed_event_types": [
                          "preference",
                          "decision",
                          "fact",
                          "correction"
                        ],
                        "decision_override": false,
                        "from_space": "user",
                        "min_authority": "***REDACTED***",
                        "to_space": "project"
                      }
                    ],
                    "read_order": [
                      "session",
                      "user",
                      "project",
                      "system"
                    ],
                    "write_spaces": [
                      "session"
                    ]
                  },
                  "trust": {
                    "approval_count_required": 1,
                    "owner_override": true,
                    "who_can_approve": "approver",
                    "who_can_propose": "contributor",
                    "who_can_reject": "approver"
                  },
                  "write_policy": "normal"
                },
                "reason": "allowed",
                "session": "anonymous",
                "subject_id": "session:anonymous:my:short_term:4",
                "to_lane": "my",
                "to_space": "session",
                "trace_version": "2024-10-01",
                "type": "memory_border_check"
              }
            ],
            "input": "Task",
            "memory": {
              "profile": [],
              "semantic": [],
              "short_term": []
            },
            "model": "gpt-4.1",
            "output": "[gpt-4.1] Critic. :: Task | mem:st=0",
            "system_prompt": "Critic.",
            "tool_calls": [],
            "tool_results": []
          }
        ],
        "canonical_events": [],
        "memory_events": [],
        "target": "feedback",
        "title": "Parallel Agents",
        "type": "parallel_agents"
      }
    ]
  },
  "flow_name": "demo",
  "ok": true,
  "result": [
    {
      "text": "[gpt-4.1] Plan. :: Task | mem:st=0"
    },
    {
      "text": "[gpt-4.1] Critic. :: Task | mem:st=0"
    }
  ],
  "state": {},
  "traces": [
    {
      "agents": [
        {
          "agent_name": "planner",
          "ai_name": "assistant",
          "ai_profile_name": "assistant",
          "canonical_events": [
            {
              "ai_profile": "assistant",
              "deterministic_hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
              "phase_counts": {},
              "policy": {
                "allow_cross_phase_recall": false,
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "budget": {
                  "defaults": [
                    {
                      "cache_enabled": true,
                      "cache_max_entries": 50,
                      "compaction_enabled": true,
                      "lane": "team",
                      "max_items_agent": null,
                      "max_items_profile": null,
                      "max_items_semantic": null,
                      "max_items_short_term": null,
                      "max_items_team": 30,
                      "max_links_per_item": 10,
                      "max_phases_per_lane": 6,
                      "owner": "any",
                      "phase": "any",
                      "space": "any"
                    },
                    {
                      "cache_enabled": true,
                      "cache_max_entries": 50,
                      "compaction_enabled": true,
                      "lane": "agent",
                      "max_items_agent": 20,
                      "max_items_profile": null,
                      "max_items_semantic": null,
                      "max_items_short_term": null,
                      "max_items_team": null,
                      "max_links_per_item": 10,
                      "max_phases_per_lane": 6,
                      "owner": "any",
                      "phase": "any",
                      "space": "any"
                    },
                    {
                      "cache_enabled": true,
                      "cache_max_entries": 50,
                      "compaction_enabled": true,
                      "lane": "any",
                      "max_items_agent": null,
                      "max_items_profile": 10,
                      "max_items_semantic": 20,
                      "max_items_short_term": 12,
                      "max_items_team": null,
                      "max_links_per_item": 10,
                      "max_phases_per_lane": 6,
                      "owner": "any",
                      "phase": "any",
                      "space": "any"
                    }
                  ]
                },
                "dedupe_enabled": true,
                "deny_event_types": [],
                "forget_policy": "decay",
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "phase_diff_enabled": true,
                "phase_enabled": true,
                "phase_max_phases": null,
                "phase_mode": "current_only",
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "profile": false,
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "semantic": false,
                "semantic_top_k": 3,
                "short_term": 0,
                "short_term_max_turns": 0,
                "short_term_token_budget": "***REDACTED***",
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "query": "Task",
              "recall_counts": {
                "project": 0,
                "session": 0,
                "system": 0,
                "user": 0
              },
              "recalled": [],
              "session": "anonymous",
              "spaces_consulted": [
                "session",
                "user",
                "project",
                "system"
              ],
              "trace_version": "2024-10-01",
              "type": "memory_recall"
            },
            {
              "for_event_index": 0,
              "lines": [
                "Phase used is unknown.",
                "Spaces checked are session, user, project, system.",
                "Recalled items count is 0.",
                "Only the current phase was used.",
                "Older phases were ignored.",
                "No items were recalled from session.",
                "No items were recalled from user.",
                "No items were recalled from project.",
                "No items were recalled from system."
              ],
              "title": "Memory recall",
              "trace_version": "2024-10-01",
              "type": "memory_explanation"
            },
            {
              "lines": [
                "Memory is new.",
                "No memory items yet.",
                "Team memory is empty.",
                "No active rules.",
                "No proposals are waiting.",
                "No handoffs are waiting.",
                "Cache is empty."
              ],
              "title": "Memory wake up report",
              "trace_version": "2024-10-01",
              "type": "memory_wake_up_report"
            },
            {
              "action": "read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "my",
              "lines": [
                "Cache was not used for recall.",
                "Result was stored for reuse."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "session",
              "title": "Memory cache miss",
              "trace_version": "2024-10-01",
              "type": "memory_cache_miss"
            },
            {
              "action": "read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_space": "user",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "user",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "my",
              "lines": [
                "Cache was not used for recall.",
                "Result was stored for reuse."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "user",
              "title": "Memory cache miss",
              "trace_version": "2024-10-01",
              "type": "memory_cache_miss"
            },
            {
              "action": "read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_space": "project",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "agent",
              "from_space": "project",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "agent",
              "lines": [
                "Cache was not used for recall.",
                "Result was stored for reuse."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "project",
              "title": "Memory cache miss",
              "trace_version": "2024-10-01",
              "type": "memory_cache_miss"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "team",
              "from_space": "project",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "team",
              "lines": [
                "Cache was not used for recall.",
                "Result was stored for reuse."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "project",
              "title": "Memory cache miss",
              "trace_version": "2024-10-01",
              "type": "memory_cache_miss"
            },
            {
              "action": "read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_space": "system",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "system",
              "from_space": "system",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "system",
              "lines": [
                "Cache was not used for recall.",
                "Result was stored for reuse."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "system",
              "title": "Memory cache miss",
              "trace_version": "2024-10-01",
              "type": "memory_cache_miss"
            },
            {
              "input_summary": "Task",
              "memory_enabled": false,
              "model": "gpt-4.1",
              "provider": "mock",
              "tools_declared_count": 0,
              "trace_version": "2024-10-01",
              "type": "ai_call_started"
            },
            {
              "model": "gpt-4.1",
              "output_summary": "[gpt-4.1] Plan. :: Task | mem:st=0",
              "provider": "mock",
              "tokens_in": "***REDACTED***",
              "tokens_out": "***REDACTED***",
              "trace_version": "2024-10-01",
              "type": "ai_call_completed"
            },
            {
              "ai_profile": "assistant",
              "reason": "interaction_recorded",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_write",
              "written": [
                {
                  "created_at": 2,
                  "id": "session:anonymous:my:short_term:1",
                  "importance": 2,
                  "kind": "short_term",
                  "meta": {
                    "authority": "***REDACTED***",
                    "authority_reason": "***REDACTED***",
                    "can_change": true,
                    "dedup_key": "context:task",
                    "event_type": "context",
                    "importance_reason": [
                      "event:context",
                      "source:user"
                    ],
                    "lane": "my",
                    "owner": "anonymous",
                    "phase_id": "phase-1",
                    "phase_reason": "auto",
                    "phase_started_at": 1,
                    "policy_tags": [
                      "allowed_by:privacy",
                      "allowed_by:promotion_rule"
                    ],
                    "space": "session",
                    "visible_to": "me"
                  },
                  "scope": "session",
                  "source": "user",
                  "text": "Task"
                },
                {
                  "created_at": 3,
                  "id": "session:anonymous:my:short_term:2",
                  "importance": 1,
                  "kind": "short_term",
                  "meta": {
                    "authority": "***REDACTED***",
                    "authority_reason": "***REDACTED***",
                    "can_change": true,
                    "dedup_key": "context:gpt 4 1 plan task mem st 0",
                    "event_type": "context",
                    "importance_reason": [
                      "event:context"
                    ],
                    "lane": "my",
                    "owner": "anonymous",
                    "phase_id": "phase-1",
                    "phase_reason": "auto",
                    "phase_started_at": 1,
                    "policy_tags": [
                      "allowed_by:privacy",
                      "allowed_by:promotion_rule"
                    ],
                    "space": "session",
                    "visible_to": "me"
                  },
                  "scope": "session",
                  "source": "ai",
                  "text": "[gpt-4.1] Plan. :: Task | mem:st=0"
                }
              ]
            },
            {
              "action": "phase_start",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                }
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "my",
              "owner": "anonymous",
              "phase_id": "phase-1",
              "policy_snapshot": {
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                }
              },
              "reason": "auto",
              "session": "anonymous",
              "space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_phase_started"
            },
            {
              "action": "write",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "subject_id": "session:anonymous:my:short_term:1",
              "to_lane": "my",
              "to_space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_write",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "subject_id": "session:anonymous:my:short_term:1",
              "to_lane": "my",
              "to_space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "write",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "subject_id": "session:anonymous:my:short_term:2",
              "to_lane": "my",
              "to_space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_write",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "subject_id": "session:anonymous:my:short_term:2",
              "to_lane": "my",
              "to_space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            }
          ],
          "input": "Task",
          "memory": {
            "profile": [],
            "semantic": [],
            "short_term": []
          },
          "model": "gpt-4.1",
          "output": "[gpt-4.1] Plan. :: Task | mem:st=0",
          "system_prompt": "Plan.",
          "tool_calls": [],
          "tool_results": []
        },
        {
          "agent_name": "critic",
          "ai_name": "assistant",
          "ai_profile_name": "assistant",
          "canonical_events": [
            {
              "ai_profile": "assistant",
              "current_phase": {
                "phase_id": "phase-1",
                "phase_index": 1,
                "phase_reason": "auto",
                "phase_started_at": 1
              },
              "deterministic_hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
              "phase_counts": {},
              "policy": {
                "allow_cross_phase_recall": false,
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "budget": {
                  "defaults": [
                    {
                      "cache_enabled": true,
                      "cache_max_entries": 50,
                      "compaction_enabled": true,
                      "lane": "team",
                      "max_items_agent": null,
                      "max_items_profile": null,
                      "max_items_semantic": null,
                      "max_items_short_term": null,
                      "max_items_team": 30,
                      "max_links_per_item": 10,
                      "max_phases_per_lane": 6,
                      "owner": "any",
                      "phase": "any",
                      "space": "any"
                    },
                    {
                      "cache_enabled": true,
                      "cache_max_entries": 50,
                      "compaction_enabled": true,
                      "lane": "agent",
                      "max_items_agent": 20,
                      "max_items_profile": null,
                      "max_items_semantic": null,
                      "max_items_short_term": null,
                      "max_items_team": null,
                      "max_links_per_item": 10,
                      "max_phases_per_lane": 6,
                      "owner": "any",
                      "phase": "any",
                      "space": "any"
                    },
                    {
                      "cache_enabled": true,
                      "cache_max_entries": 50,
                      "compaction_enabled": true,
                      "lane": "any",
                      "max_items_agent": null,
                      "max_items_profile": 10,
                      "max_items_semantic": 20,
                      "max_items_short_term": 12,
                      "max_items_team": null,
                      "max_links_per_item": 10,
                      "max_phases_per_lane": 6,
                      "owner": "any",
                      "phase": "any",
                      "space": "any"
                    }
                  ]
                },
                "dedupe_enabled": true,
                "deny_event_types": [],
                "forget_policy": "decay",
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "phase_diff_enabled": true,
                "phase_enabled": true,
                "phase_max_phases": null,
                "phase_mode": "current_only",
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "profile": false,
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "semantic": false,
                "semantic_top_k": 3,
                "short_term": 0,
                "short_term_max_turns": 0,
                "short_term_token_budget": "***REDACTED***",
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "query": "Task",
              "recall_counts": {
                "project": 0,
                "session": 0,
                "system": 0,
                "user": 0
              },
              "recalled": [],
              "session": "anonymous",
              "spaces_consulted": [
                "session",
                "user",
                "project",
                "system"
              ],
              "trace_version": "2024-10-01",
              "type": "memory_recall"
            },
            {
              "for_event_index": 0,
              "lines": [
                "Phase used is phase-1.",
                "Spaces checked are session, user, project, system.",
                "Recalled items count is 0.",
                "Only the current phase was used.",
                "Older phases were ignored.",
                "No items were recalled from session.",
                "No items were recalled from user.",
                "No items were recalled from project.",
                "No items were recalled from system."
              ],
              "title": "Memory recall",
              "trace_version": "2024-10-01",
              "type": "memory_explanation"
            },
            {
              "action": "read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "my",
              "lines": [
                "Cache was not used for recall.",
                "Result was stored for reuse."
              ],
              "phase_id": "phase-1",
              "session": "anonymous",
              "space": "session",
              "title": "Memory cache miss",
              "trace_version": "2024-10-01",
              "type": "memory_cache_miss"
            },
            {
              "action": "read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_space": "user",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "user",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "my",
              "lines": [
                "Cache was used for recall.",
                "Cached result was returned."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "user",
              "title": "Memory cache hit",
              "trace_version": "2024-10-01",
              "type": "memory_cache_hit"
            },
            {
              "action": "read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_space": "project",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "agent",
              "from_space": "project",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "agent",
              "lines": [
                "Cache was not used for recall.",
                "Result was stored for reuse."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "project",
              "title": "Memory cache miss",
              "trace_version": "2024-10-01",
              "type": "memory_cache_miss"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "team",
              "from_space": "project",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "team",
              "lines": [
                "Cache was used for recall.",
                "Cached result was returned."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "project",
              "title": "Memory cache hit",
              "trace_version": "2024-10-01",
              "type": "memory_cache_hit"
            },
            {
              "action": "read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_space": "system",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_read",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "system",
              "from_space": "system",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "ai_profile": "assistant",
              "lane": "system",
              "lines": [
                "Cache was used for recall.",
                "Cached result was returned."
              ],
              "phase_id": "phase-unknown",
              "session": "anonymous",
              "space": "system",
              "title": "Memory cache hit",
              "trace_version": "2024-10-01",
              "type": "memory_cache_hit"
            },
            {
              "input_summary": "Task",
              "memory_enabled": false,
              "model": "gpt-4.1",
              "provider": "mock",
              "tools_declared_count": 0,
              "trace_version": "2024-10-01",
              "type": "ai_call_started"
            },
            {
              "model": "gpt-4.1",
              "output_summary": "[gpt-4.1] Critic. :: Task | mem:st=0",
              "provider": "mock",
              "tokens_in": "***REDACTED***",
              "tokens_out": "***REDACTED***",
              "trace_version": "2024-10-01",
              "type": "ai_call_completed"
            },
            {
              "ai_profile": "assistant",
              "reason": "interaction_recorded",
              "session": "anonymous",
              "trace_version": "2024-10-01",
              "type": "memory_write",
              "written": [
                {
                  "created_at": 4,
                  "id": "session:anonymous:my:short_term:3",
                  "importance": 2,
                  "kind": "short_term",
                  "meta": {
                    "authority": "***REDACTED***",
                    "authority_reason": "***REDACTED***",
                    "can_change": true,
                    "dedup_key": "context:task",
                    "event_type": "context",
                    "importance_reason": [
                      "event:context",
                      "source:user"
                    ],
                    "lane": "my",
                    "owner": "anonymous",
                    "phase_id": "phase-1",
                    "phase_reason": "auto",
                    "phase_started_at": 1,
                    "policy_tags": [
                      "allowed_by:privacy",
                      "allowed_by:promotion_rule"
                    ],
                    "space": "session",
                    "visible_to": "me"
                  },
                  "scope": "session",
                  "source": "user",
                  "text": "Task"
                },
                {
                  "created_at": 5,
                  "id": "session:anonymous:my:short_term:4",
                  "importance": 1,
                  "kind": "short_term",
                  "meta": {
                    "authority": "***REDACTED***",
                    "authority_reason": "***REDACTED***",
                    "can_change": true,
                    "dedup_key": "context:gpt 4 1 critic task mem st 0",
                    "event_type": "context",
                    "importance_reason": [
                      "event:context"
                    ],
                    "lane": "my",
                    "owner": "anonymous",
                    "phase_id": "phase-1",
                    "phase_reason": "auto",
                    "phase_started_at": 1,
                    "policy_tags": [
                      "allowed_by:privacy",
                      "allowed_by:promotion_rule"
                    ],
                    "space": "session",
                    "visible_to": "me"
                  },
                  "scope": "session",
                  "source": "ai",
                  "text": "[gpt-4.1] Critic. :: Task | mem:st=0"
                }
              ]
            },
            {
              "action": "write",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "subject_id": "session:anonymous:my:short_term:3",
              "to_lane": "my",
              "to_space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_write",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "subject_id": "session:anonymous:my:short_term:3",
              "to_lane": "my",
              "to_space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "write",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "subject_id": "session:anonymous:my:short_term:4",
              "to_lane": "my",
              "to_space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            },
            {
              "action": "lane_write",
              "ai_profile": "assistant",
              "allowed": true,
              "from_lane": "my",
              "from_space": "session",
              "policy_snapshot": {
                "allow_event_types": [],
                "authority_order": "***REDACTED***",
                "deny_event_types": [],
                "lanes": {
                  "agent_enabled": true,
                  "read_order": [
                    "my",
                    "agent",
                    "team",
                    "system"
                  ],
                  "system_enabled": true,
                  "team_can_change": true,
                  "team_enabled": true,
                  "team_event_types": [
                    "decision",
                    "rule",
                    "execution"
                  ],
                  "write_lanes": [
                    "my",
                    "agent"
                  ]
                },
                "phase": {
                  "allow_cross_phase_recall": false,
                  "diff_enabled": true,
                  "enabled": true,
                  "max_phases": null,
                  "mode": "current_only"
                },
                "privacy": {
                  "allow_profile_keys": [
                    "name",
                    "timezone",
                    "language",
                    "project",
                    "editor",
                    "units"
                  ],
                  "deny_patterns": [
                    "password",
                    "secret",
                    "token",
                    "api key",
                    "apikey",
                    "credit card",
                    "ssn",
                    "social security",
                    "private key"
                  ],
                  "deny_sensitive": true
                },
                "promotion": {
                  "profile": {
                    "allowed_event_types": [
                      "fact",
                      "correction"
                    ]
                  },
                  "semantic": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  },
                  "short_term": {
                    "allowed_event_types": [
                      "context",
                      "correction",
                      "decision",
                      "execution",
                      "fact",
                      "preference",
                      "rule"
                    ]
                  }
                },
                "retention": {
                  "profile": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  },
                  "semantic": {
                    "context": {
                      "mode": "decay",
                      "ttl_ticks": 12
                    },
                    "correction": {
                      "mode": "decay",
                      "ttl_ticks": 45
                    },
                    "decision": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "execution": {
                      "mode": "decay",
                      "ttl_ticks": 18
                    },
                    "fact": {
                      "mode": "decay",
                      "ttl_ticks": 60
                    },
                    "preference": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    },
                    "rule": {
                      "mode": "decay",
                      "ttl_ticks": 40
                    }
                  },
                  "short_term": {
                    "context": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "correction": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "decision": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "execution": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "fact": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "preference": {
                      "mode": "never",
                      "ttl_ticks": null
                    },
                    "rule": {
                      "mode": "never",
                      "ttl_ticks": null
                    }
                  }
                },
                "spaces": {
                  "promotions": [
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "user"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": true,
                      "from_space": "session",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    },
                    {
                      "allowed_event_types": [
                        "preference",
                        "decision",
                        "fact",
                        "correction"
                      ],
                      "decision_override": false,
                      "from_space": "user",
                      "min_authority": "***REDACTED***",
                      "to_space": "project"
                    }
                  ],
                  "read_order": [
                    "session",
                    "user",
                    "project",
                    "system"
                  ],
                  "write_spaces": [
                    "session"
                  ]
                },
                "trust": {
                  "approval_count_required": 1,
                  "owner_override": true,
                  "who_can_approve": "approver",
                  "who_can_propose": "contributor",
                  "who_can_reject": "approver"
                },
                "write_policy": "normal"
              },
              "reason": "allowed",
              "session": "anonymous",
              "subject_id": "session:anonymous:my:short_term:4",
              "to_lane": "my",
              "to_space": "session",
              "trace_version": "2024-10-01",
              "type": "memory_border_check"
            }
          ],
          "input": "Task",
          "memory": {
            "profile": [],
            "semantic": [],
            "short_term": []
          },
          "model": "gpt-4.1",
          "output": "[gpt-4.1] Critic. :: Task | mem:st=0",
          "system_prompt": "Critic.",
          "tool_calls": [],
          "tool_results": []
        }
      ],
      "canonical_events": [],
      "memory_events": [],
      "target": "feedback",
      "title": "Parallel Agents",
      "type": "parallel_agents"
    }
  ]
}

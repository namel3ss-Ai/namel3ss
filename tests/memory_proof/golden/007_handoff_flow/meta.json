{
  "cache_versions_by_step": [
    {
      "step_index": 1,
      "versions": [
        {
          "kind": "semantic",
          "store_key": "project:unknown:agent:agent-1",
          "version": 1
        },
        {
          "kind": "semantic",
          "store_key": "session:anonymous:my",
          "version": 2
        },
        {
          "kind": "short_term",
          "store_key": "session:anonymous:my",
          "version": 4
        }
      ]
    },
    {
      "step_index": 2,
      "versions": [
        {
          "kind": "semantic",
          "store_key": "project:unknown:agent:agent-1",
          "version": 1
        },
        {
          "kind": "semantic",
          "store_key": "session:anonymous:my",
          "version": 2
        },
        {
          "kind": "short_term",
          "store_key": "session:anonymous:my",
          "version": 4
        }
      ]
    },
    {
      "step_index": 3,
      "versions": [
        {
          "kind": "semantic",
          "store_key": "project:unknown:agent:agent-1",
          "version": 1
        },
        {
          "kind": "semantic",
          "store_key": "session:anonymous:my",
          "version": 2
        },
        {
          "kind": "short_term",
          "store_key": "session:anonymous:my",
          "version": 4
        }
      ]
    },
    {
      "step_index": 4,
      "versions": [
        {
          "kind": "semantic",
          "store_key": "project:unknown:agent:agent-1",
          "version": 1
        },
        {
          "kind": "semantic",
          "store_key": "session:anonymous:my",
          "version": 2
        },
        {
          "kind": "short_term",
          "store_key": "session:anonymous:my",
          "version": 4
        }
      ]
    }
  ],
  "invariants": {
    "failures": [],
    "notes": [
      "TODO: memory_deleted explanation field is not emitted yet."
    ],
    "ok": true
  },
  "memory_counts": {
    "profile": 0,
    "semantic": 2,
    "short_term": 2
  },
  "phase_snapshots_by_step": [
    {
      "phases": [
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "project:unknown:agent:agent-1"
        },
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "session:anonymous:my"
        }
      ],
      "step_index": 1
    },
    {
      "phases": [
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "project:unknown:agent:agent-1"
        },
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "session:anonymous:my"
        }
      ],
      "step_index": 2
    },
    {
      "phases": [
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "project:unknown:agent:agent-1"
        },
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "project:unknown:agent:agent-2"
        },
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "session:anonymous:my"
        }
      ],
      "step_index": 3
    },
    {
      "phases": [
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "project:unknown:agent:agent-1"
        },
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "project:unknown:agent:agent-2"
        },
        {
          "current_phase_id": "phase-1",
          "history_ids": [
            "phase-1"
          ],
          "store_key": "session:anonymous:my"
        }
      ],
      "step_index": 4
    }
  ],
  "recall_hashes": [
    {
      "deterministic_hash": "c6cdd071c70ee0bfca798c634994de5089a3718dc59f3188a8ea95566770e305",
      "step_index": 4
    }
  ],
  "scenario": {
    "id": "007_handoff_flow",
    "name": "Handoff flow"
  },
  "step_counts": {
    "admin": 2,
    "recall": 1,
    "record": 1,
    "total": 4
  }
}

[
  {
    "type": "memory_recall",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "query": "Remember this for me: I prefer concise updates.",
    "recalled": [],
    "policy": {
      "short_term": 2,
      "semantic": true,
      "profile": true,
      "short_term_max_turns": 2,
      "short_term_token_budget": null,
      "semantic_top_k": 3,
      "write_policy": "normal",
      "forget_policy": "decay",
      "dedupe_enabled": true,
      "phase_mode": "current_only",
      "allow_cross_phase_recall": false,
      "phase_enabled": true,
      "phase_max_phases": null,
      "phase_diff_enabled": true,
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "deterministic_hash": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
    "spaces_consulted": [
      "session",
      "user",
      "project",
      "system"
    ],
    "recall_counts": {
      "session": 0,
      "user": 0,
      "project": 0,
      "system": 0
    },
    "phase_counts": {}
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "my"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "user",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "user",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "my"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "project",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "project",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "team"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "system",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "system",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "system"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "phase_start",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      }
    },
    "from_lane": "my"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:1"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:1"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:2"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:2"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:semantic:1"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:semantic:1"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "promote",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "user",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:semantic:1"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_promote",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "user",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:semantic:1"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "phase_start",
    "from_space": "user",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      }
    },
    "from_lane": "my"
  },
  {
    "type": "memory_promoted",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "from_space": "session",
    "to_space": "user",
    "from_id": "session:anonymous:my:semantic:1",
    "to_id": "user:user-1:my:semantic:1",
    "authority_used": "user_asserted",
    "reason": "hint:remember_for_me",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "my",
    "to_lane": "my"
  },
  {
    "type": "memory_recall",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "query": "Remember this for the project: We decided to ship weekly.",
    "recalled": [
      {
        "id": "session:anonymous:my:short_term:1",
        "kind": "short_term",
        "text": "Remember this for me: I prefer concise updates.",
        "source": "user",
        "created_at": 2,
        "importance": 4,
        "scope": "session",
        "meta": {
          "event_type": "preference",
          "importance_reason": [
            "event:preference",
            "source:user"
          ],
          "dedup_key": "preference:remember this for me i prefer concise updates",
          "authority": "user_asserted",
          "authority_reason": "source:user",
          "space": "session",
          "owner": "anonymous",
          "lane": "my",
          "visible_to": "me",
          "can_change": true,
          "phase_id": "phase-1",
          "phase_started_at": 1,
          "phase_reason": "auto",
          "promotion_target": "user",
          "promotion_reason": "hint:remember_for_me",
          "policy_tags": [
            "allowed_by:privacy",
            "allowed_by:promotion_rule"
          ],
          "recall_reason": [
            "recency",
            "space:session",
            "lane:my"
          ]
        }
      },
      {
        "id": "session:anonymous:my:short_term:2",
        "kind": "short_term",
        "text": "[mock-model] Remember this for me: I prefer concise updates. | mem:st=0",
        "source": "ai",
        "created_at": 3,
        "importance": 1,
        "scope": "session",
        "meta": {
          "event_type": "context",
          "importance_reason": [
            "event:context"
          ],
          "dedup_key": "context:mock model remember this for me i prefer concise updates mem st 0",
          "authority": "ai_inferred",
          "authority_reason": "source:ai",
          "space": "session",
          "owner": "anonymous",
          "lane": "my",
          "visible_to": "me",
          "can_change": true,
          "phase_id": "phase-1",
          "phase_started_at": 1,
          "phase_reason": "auto",
          "policy_tags": [
            "allowed_by:privacy",
            "allowed_by:promotion_rule"
          ],
          "recall_reason": [
            "recency",
            "space:session",
            "lane:my"
          ]
        }
      },
      {
        "id": "user:user-1:my:semantic:1",
        "kind": "semantic",
        "text": "Remember this for me: I prefer concise updates.",
        "source": "user",
        "created_at": 6,
        "importance": 4,
        "scope": "session",
        "meta": {
          "event_type": "preference",
          "importance_reason": [
            "event:preference",
            "source:user"
          ],
          "dedup_key": "preference:remember this for me i prefer concise updates",
          "authority": "user_asserted",
          "authority_reason": "source:user",
          "space": "user",
          "owner": "user-1",
          "lane": "my",
          "phase_id": "phase-1",
          "phase_started_at": 5,
          "phase_reason": "auto",
          "promotion_target": "user",
          "promotion_reason": "hint:remember_for_me",
          "policy_tags": [
            "allowed_by:privacy",
            "allowed_by:write_policy:normal",
            "allowed_by:promotion_rule",
            "kept_by:retention_rule"
          ],
          "promoted_from": "session:anonymous:my:semantic:1",
          "visible_to": "me",
          "can_change": true,
          "links": [
            {
              "type": "promoted_from",
              "to_id": "session:anonymous:my:semantic:1",
              "reason_code": "hint:remember_for_me",
              "created_in_phase_id": "phase-1"
            },
            {
              "type": "replaced",
              "to_id": "session:anonymous:my:semantic:1",
              "reason_code": "promoted",
              "created_in_phase_id": "phase-1"
            }
          ],
          "link_preview_text": {
            "session:anonymous:my:semantic:1": "Remember this for me: I prefer concise updates."
          },
          "score": 5,
          "recall_reason": [
            "matches_query",
            "recency",
            "importance",
            "space:user",
            "lane:my"
          ]
        }
      }
    ],
    "policy": {
      "short_term": 2,
      "semantic": true,
      "profile": true,
      "short_term_max_turns": 2,
      "short_term_token_budget": null,
      "semantic_top_k": 3,
      "write_policy": "normal",
      "forget_policy": "decay",
      "dedupe_enabled": true,
      "phase_mode": "current_only",
      "allow_cross_phase_recall": false,
      "phase_enabled": true,
      "phase_max_phases": null,
      "phase_diff_enabled": true,
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "deterministic_hash": "03581e138ea49f8b136426f0c2141ef8919ab3550091af87db8a82ee5af1132a",
    "spaces_consulted": [
      "session",
      "user",
      "project",
      "system"
    ],
    "recall_counts": {
      "session": 2,
      "user": 1,
      "project": 0,
      "system": 0
    },
    "phase_counts": {
      "session": {
        "phase-1": 2
      },
      "user": {
        "phase-1": 1
      }
    },
    "current_phase": {
      "phase_id": "phase-1",
      "phase_index": 1,
      "phase_started_at": 1,
      "phase_reason": "auto"
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "my"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "user",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "user",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "my"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "project",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "project",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "team"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "system",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "system",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "system"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:3"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:3"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:4"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:4"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:semantic:2"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:semantic:2"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "promote",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "project",
    "from_lane": "my",
    "to_lane": "team",
    "subject_id": "session:anonymous:my:semantic:2"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_promote",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "project",
    "from_lane": "my",
    "to_lane": "team",
    "subject_id": "session:anonymous:my:semantic:2"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "phase_start",
    "from_space": "project",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      }
    },
    "from_lane": "team"
  },
  {
    "type": "memory_proposed",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "team_id": "unknown",
    "phase_id": "phase-1",
    "proposal_id": "proposal-1",
    "memory_id": "session:anonymous:my:semantic:2",
    "title": "Team proposal decision",
    "lines": [
      "Team memory proposal created.",
      "Proposal id is proposal-1.",
      "Phase is phase-1.",
      "Proposed by is user-1.",
      "Event type is decision.",
      "Approvals required is 1.",
      "Preview is Remember this for the project: We decided to ship weekly..",
      "Status is waiting for one more approval."
    ],
    "lane": "team"
  },
  {
    "type": "memory_recall",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "query": "Remember this for everyone: We release weekly.",
    "recalled": [
      {
        "id": "session:anonymous:my:short_term:5",
        "kind": "short_term",
        "text": "user: Remember this for me: I prefer concise updates. | ai: [mock-model] Remember this for me: I prefer concise updates. | mem:st=0",
        "source": "system",
        "created_at": 9,
        "importance": 1,
        "scope": "session",
        "meta": {
          "event_type": "context",
          "summary_of": [
            "session:anonymous:my:short_term:1",
            "session:anonymous:my:short_term:2"
          ],
          "importance_reason": [
            "event:context",
            "summary"
          ],
          "dedup_key": "context:user remember this for me i prefer concise updates ai mock model remember this for me i prefer concise updates mem st 0",
          "authority": "system_imposed",
          "authority_reason": "summary",
          "space": "session",
          "owner": "anonymous",
          "lane": "my",
          "visible_to": "me",
          "can_change": true,
          "phase_id": "phase-1",
          "phase_started_at": 1,
          "phase_reason": "auto",
          "recall_reason": [
            "active_rule",
            "space:session",
            "lane:my"
          ]
        }
      },
      {
        "id": "session:anonymous:my:short_term:3",
        "kind": "short_term",
        "text": "Remember this for the project: We decided to ship weekly.",
        "source": "user",
        "created_at": 7,
        "importance": 4,
        "scope": "session",
        "meta": {
          "event_type": "decision",
          "importance_reason": [
            "event:decision",
            "source:user"
          ],
          "dedup_key": "decision:remember this for the project we decided to ship weekly",
          "authority": "user_asserted",
          "authority_reason": "source:user",
          "space": "session",
          "owner": "anonymous",
          "lane": "my",
          "visible_to": "me",
          "can_change": true,
          "phase_id": "phase-1",
          "phase_started_at": 1,
          "phase_reason": "auto",
          "promotion_target": "project",
          "promotion_reason": "hint:remember_for_project",
          "policy_tags": [
            "allowed_by:privacy",
            "allowed_by:promotion_rule"
          ],
          "recall_reason": [
            "recency",
            "space:session",
            "lane:my"
          ]
        }
      },
      {
        "id": "session:anonymous:my:short_term:4",
        "kind": "short_term",
        "text": "[mock-model] Remember this for the project: We decided to ship weekly. | mem:st=2",
        "source": "ai",
        "created_at": 8,
        "importance": 1,
        "scope": "session",
        "meta": {
          "event_type": "context",
          "importance_reason": [
            "event:context"
          ],
          "dedup_key": "context:mock model remember this for the project we decided to ship weekly mem st 2",
          "authority": "ai_inferred",
          "authority_reason": "source:ai",
          "space": "session",
          "owner": "anonymous",
          "lane": "my",
          "visible_to": "me",
          "can_change": true,
          "phase_id": "phase-1",
          "phase_started_at": 1,
          "phase_reason": "auto",
          "policy_tags": [
            "allowed_by:privacy",
            "allowed_by:promotion_rule"
          ],
          "recall_reason": [
            "recency",
            "space:session",
            "lane:my"
          ]
        }
      },
      {
        "id": "session:anonymous:my:semantic:2",
        "kind": "semantic",
        "text": "Remember this for the project: We decided to ship weekly.",
        "source": "user",
        "created_at": 10,
        "importance": 4,
        "scope": "session",
        "meta": {
          "event_type": "decision",
          "importance_reason": [
            "event:decision",
            "source:user"
          ],
          "dedup_key": "decision:remember this for the project we decided to ship weekly",
          "authority": "user_asserted",
          "authority_reason": "source:user",
          "space": "session",
          "owner": "anonymous",
          "lane": "my",
          "visible_to": "me",
          "can_change": true,
          "phase_id": "phase-1",
          "phase_started_at": 1,
          "phase_reason": "auto",
          "promotion_target": "project",
          "promotion_reason": "hint:remember_for_project",
          "policy_tags": [
            "allowed_by:privacy",
            "allowed_by:write_policy:normal",
            "allowed_by:promotion_rule",
            "kept_by:retention_rule"
          ],
          "score": 5,
          "recall_reason": [
            "matches_query",
            "recency",
            "importance",
            "space:session",
            "lane:my"
          ]
        }
      },
      {
        "id": "user:user-1:my:semantic:1",
        "kind": "semantic",
        "text": "Remember this for me: I prefer concise updates.",
        "source": "user",
        "created_at": 6,
        "importance": 4,
        "scope": "session",
        "meta": {
          "event_type": "preference",
          "importance_reason": [
            "event:preference",
            "source:user"
          ],
          "dedup_key": "preference:remember this for me i prefer concise updates",
          "authority": "user_asserted",
          "authority_reason": "source:user",
          "space": "user",
          "owner": "user-1",
          "lane": "my",
          "phase_id": "phase-1",
          "phase_started_at": 5,
          "phase_reason": "auto",
          "promotion_target": "user",
          "promotion_reason": "hint:remember_for_me",
          "policy_tags": [
            "allowed_by:privacy",
            "allowed_by:write_policy:normal",
            "allowed_by:promotion_rule",
            "kept_by:retention_rule"
          ],
          "promoted_from": "session:anonymous:my:semantic:1",
          "visible_to": "me",
          "can_change": true,
          "links": [
            {
              "type": "promoted_from",
              "to_id": "session:anonymous:my:semantic:1",
              "reason_code": "hint:remember_for_me",
              "created_in_phase_id": "phase-1"
            },
            {
              "type": "replaced",
              "to_id": "session:anonymous:my:semantic:1",
              "reason_code": "promoted",
              "created_in_phase_id": "phase-1"
            }
          ],
          "link_preview_text": {
            "session:anonymous:my:semantic:1": "Remember this for me: I prefer concise updates."
          },
          "score": 5,
          "recall_reason": [
            "matches_query",
            "recency",
            "importance",
            "space:user",
            "lane:my"
          ]
        }
      }
    ],
    "policy": {
      "short_term": 2,
      "semantic": true,
      "profile": true,
      "short_term_max_turns": 2,
      "short_term_token_budget": null,
      "semantic_top_k": 3,
      "write_policy": "normal",
      "forget_policy": "decay",
      "dedupe_enabled": true,
      "phase_mode": "current_only",
      "allow_cross_phase_recall": false,
      "phase_enabled": true,
      "phase_max_phases": null,
      "phase_diff_enabled": true,
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "deterministic_hash": "e0fbf12c0cc001f38768f20446983d58af5e8d5a5e5389a2211b236c3a624b0c",
    "spaces_consulted": [
      "session",
      "user",
      "project",
      "system"
    ],
    "recall_counts": {
      "session": 4,
      "user": 1,
      "project": 0,
      "system": 0
    },
    "phase_counts": {
      "session": {
        "phase-1": 4
      },
      "user": {
        "phase-1": 1
      }
    },
    "current_phase": {
      "phase_id": "phase-1",
      "phase_index": 1,
      "phase_started_at": 1,
      "phase_reason": "auto"
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "my"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "user",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "user",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "my"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "project",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "project",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "team"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "read",
    "from_space": "system",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    }
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_read",
    "from_space": "system",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "from_lane": "system"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:6"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:6"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:7"
  },
  {
    "type": "memory_border_check",
    "trace_version": "2024-10-01",
    "ai_profile": "assistant",
    "session": "anonymous",
    "action": "lane_write",
    "from_space": "session",
    "allowed": true,
    "reason": "allowed",
    "policy_snapshot": {
      "write_policy": "normal",
      "allow_event_types": [],
      "deny_event_types": [],
      "retention": {
        "short_term": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        },
        "semantic": {
          "context": {
            "mode": "decay",
            "ttl_ticks": 12
          },
          "correction": {
            "mode": "decay",
            "ttl_ticks": 45
          },
          "decision": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "execution": {
            "mode": "decay",
            "ttl_ticks": 18
          },
          "fact": {
            "mode": "decay",
            "ttl_ticks": 60
          },
          "preference": {
            "mode": "decay",
            "ttl_ticks": 40
          },
          "rule": {
            "mode": "decay",
            "ttl_ticks": 40
          }
        },
        "profile": {
          "context": {
            "mode": "never",
            "ttl_ticks": null
          },
          "correction": {
            "mode": "never",
            "ttl_ticks": null
          },
          "decision": {
            "mode": "never",
            "ttl_ticks": null
          },
          "execution": {
            "mode": "never",
            "ttl_ticks": null
          },
          "fact": {
            "mode": "never",
            "ttl_ticks": null
          },
          "preference": {
            "mode": "never",
            "ttl_ticks": null
          },
          "rule": {
            "mode": "never",
            "ttl_ticks": null
          }
        }
      },
      "promotion": {
        "short_term": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "semantic": {
          "allowed_event_types": [
            "context",
            "correction",
            "decision",
            "execution",
            "fact",
            "preference",
            "rule"
          ]
        },
        "profile": {
          "allowed_event_types": [
            "fact",
            "correction"
          ]
        }
      },
      "privacy": {
        "deny_patterns": [
          "password",
          "secret",
          "token",
          "api key",
          "apikey",
          "credit card",
          "ssn",
          "social security",
          "private key"
        ],
        "allow_profile_keys": [
          "name",
          "timezone",
          "language",
          "project",
          "editor",
          "units"
        ],
        "deny_sensitive": true
      },
      "authority_order": [
        "system_imposed",
        "tool_verified",
        "user_asserted",
        "ai_inferred"
      ],
      "spaces": {
        "read_order": [
          "session",
          "user",
          "project",
          "system"
        ],
        "write_spaces": [
          "session"
        ],
        "promotions": [
          {
            "from_space": "session",
            "to_space": "user",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          },
          {
            "from_space": "session",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "tool_verified",
            "decision_override": true
          },
          {
            "from_space": "user",
            "to_space": "project",
            "allowed_event_types": [
              "preference",
              "decision",
              "fact",
              "correction"
            ],
            "min_authority": "user_asserted",
            "decision_override": false
          }
        ]
      },
      "phase": {
        "enabled": true,
        "mode": "current_only",
        "allow_cross_phase_recall": false,
        "max_phases": null,
        "diff_enabled": true
      },
      "lanes": {
        "read_order": [
          "my",
          "team",
          "system"
        ],
        "write_lanes": [
          "my"
        ],
        "team_enabled": true,
        "system_enabled": true,
        "team_event_types": [
          "decision",
          "rule",
          "execution"
        ],
        "team_can_change": true
      },
      "trust": {
        "who_can_propose": "contributor",
        "who_can_approve": "approver",
        "who_can_reject": "approver",
        "approval_count_required": 1,
        "owner_override": true
      }
    },
    "to_space": "session",
    "from_lane": "my",
    "to_lane": "my",
    "subject_id": "session:anonymous:my:short_term:7"
  }
]
spec is "1.0"

flow "demo":
  set state.items is list:
    1
    2
  let total is 2
  if total is greater than 1:
    set state.label is "big"
  else:
    set state.label is "small"
  repeat up to 2 times:
    let x is 1
  for each item in state.items:
    set state.last is item
  match state.last:
    with:
      when 1:
        set state.match is "one"
      when 2:
        set state.match is "two"
      otherwise:
        set state.match is "other"
  try:
    let ok is true
    set state.safe is ok
  with catch err:
    set state.safe is false
  return state.match

{
  "error": {
    "boundary": "tools",
    "error_id": "E-TOOLS-TOOL_BLOCKED-RESEARCH_DEMO-LET-2",
    "example": "sandbox: true",
    "fix": [
      "Enable sandbox in tools.yaml or relax the capability overrides."
    ],
    "kind": "tool_blocked",
    "raw_message": "What happened: Tool \"retrieve docs\" requires sandbox enforcement.\nWhy: Sandbox is disabled but guarantees require: filesystem_read, filesystem_write, network, subprocess, env_read, env_write, secre...",
    "what": "Tool \"retrieve docs\" requires sandbox enforcement.",
    "where": {
      "column": 20,
      "flow_name": "research_demo",
      "line": 40,
      "statement_index": 2,
      "statement_kind": "let"
    },
    "why": [
      "Sandbox is disabled but guarantees require: filesystem_read, filesystem_write, network, subprocess, env_read, env_write, secrets."
    ]
  },
  "summary": {
    "boundary": "tools",
    "flow_name": "research_demo",
    "kind": "tool_blocked",
    "ok": false
  },
  "traces_tail": [
    {
      "allowed": false,
      "capability": "filesystem_read",
      "guarantee_source": "tool",
      "protocol_version": 1,
      "reason": "coverage_missing",
      "resolved_source": "binding",
      "runner": "local",
      "tool_name": "retrieve docs",
      "type": "capability_check"
    },
    {
      "allowed": false,
      "capability": "filesystem_write",
      "guarantee_source": "tool",
      "protocol_version": 1,
      "reason": "coverage_missing",
      "resolved_source": "binding",
      "runner": "local",
      "tool_name": "retrieve docs",
      "type": "capability_check"
    },
    {
      "allowed": false,
      "capability": "network",
      "guarantee_source": "tool",
      "protocol_version": 1,
      "reason": "coverage_missing",
      "resolved_source": "binding",
      "runner": "local",
      "tool_name": "retrieve docs",
      "type": "capability_check"
    },
    {
      "allowed": false,
      "capability": "subprocess",
      "guarantee_source": "tool",
      "protocol_version": 1,
      "reason": "coverage_missing",
      "resolved_source": "binding",
      "runner": "local",
      "tool_name": "retrieve docs",
      "type": "capability_check"
    },
    {
      "allowed": false,
      "capability": "env_read",
      "guarantee_source": "tool",
      "protocol_version": 1,
      "reason": "coverage_missing",
      "resolved_source": "binding",
      "runner": "local",
      "tool_name": "retrieve docs",
      "type": "capability_check"
    },
    {
      "allowed": false,
      "capability": "env_write",
      "guarantee_source": "tool",
      "protocol_version": 1,
      "reason": "coverage_missing",
      "resolved_source": "binding",
      "runner": "local",
      "tool_name": "retrieve docs",
      "type": "capability_check"
    },
    {
      "allowed": false,
      "capability": "secrets",
      "guarantee_source": "tool",
      "protocol_version": 1,
      "reason": "coverage_missing",
      "resolved_source": "binding",
      "runner": "local",
      "tool_name": "retrieve docs",
      "type": "capability_check"
    },
    {
      "capability": "none",
      "decision": "allowed",
      "duration_ms": "<time>",
      "entry": "tools.retrieve_docs:run",
      "error_message": "[line 40, col 20] What happened: Tool \"retrieve docs\" requires sandbox enforcement.\nWhy: Sandbox is disabled but guarantees require: filesystem_read, filesystem_write, network, subprocess, env_read, env_write, secrets.\nFix: Enable sandbox in tools.yaml or relax the capability overrides.\nExample: sandbox: true",
      "error_type": "Namel3ssError",
      "input_summary": {
        "count": 1,
        "keys": [
          "query"
        ],
        "type": "object"
      },
      "kind": "python",
      "reason": "policy_allowed",
      "resolved_source": "binding",
      "result": "error",
      "runner": "local",
      "status": "error",
      "timeout_ms": 5000,
      "tool": "retrieve docs",
      "tool_name": "retrieve docs",
      "type": "tool_call"
    }
  ]
}
